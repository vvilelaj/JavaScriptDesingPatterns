
@{
    ViewBag.Title = "Recursive SetTimeout Pattern";
}

<h2>Recursive SetTimeout Pattern</h2>

<div class="row">
    <div class="col-md-12">
        <ul class="datos"></ul>
    </div>
</div>

@section scripts {
    <script>
        $(document).ready(function () {
            var index = 0;
            setTimeout(function () {
                var fn = arguments.callee;
                index++;
                $.get('GetData?index=' + index.toString(), function (data, status, jqXHR) {
                    $('.datos').append('<li>' + data.Name + '</li>');
                    setTimeout(function () {
                        fn();
                    }, 500);
                });
            }, 500);
        });
    </script>
}